:80 {
	# Serve files from this directory
	root * /usr/share/caddy

	# Enable gzip compression
	encode gzip

	# SPA routing: try to serve the file, fallback to index.html
	try_files {path} /index.html

	# Serve static files
	file_server

	# Cache static assets (JS, CSS, images) for 1 year
	@assets {
		path *.js *.css *.svg *.png *.jpg *.jpeg *.gif *.ico *.woff *.woff2
	}
	header @assets Cache-Control "public, max-age=31536000, immutable"

	# Don't cache index.html (so users get updates)
	@html {
		path *.html /
	}
	header @html Cache-Control "no-cache, no-store, must-revalidate"
}
